{% extends "flask_material/base/base.html" %}

{% block dependencies %}
    {{ components.load_component_dependencies(['button', 'switch', 'text_field', 'menu', 'drop_down']) }}
{% endblock %}

{% block content %}
    {{ components.button_filled("toggle_dark_mode_button", label="Toggle Dark Mode") }}

    <h1>Flask Material Style</h1>
    <h2>Elevation</h2>
    <div class="test_section_container" style="grid-template-columns: repeat(6, 1fr);">
        {% for i in range(6) %}
            <div id="elevated_surface_{{ i }}" class="elevated_surface" style="box-shadow: var(--elevation-level-{{ i }})">
                Elevation {{ i }}
            </div>
            <style>
                #elevated_surface_{{ i }}:active {
                    box-shadow: var(--elevation-level-{{ i-1 }}) !important;
                }
            </style>
        {% endfor %}
    </div>

    <div id="bottom_spacer"></div>

    <style>
        #toggle_dark_mode_button {
            position: absolute;
            right: 10px;
            top: 10px;
        }

        h1, h2, h3 {
            position: relative;
            text-align: center;
            color: var(--on-surface);
            transition: var(--animation-duration-dark-mode) color;
            z-index: 0;
        }

        .test_section_container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            justify-items: center;
            align-items: start;
        }

        .test_container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .elevated_surface {
            width: 120px;
            height: 50px;
            border-radius: 25px;
            background-color: var(--surface-container);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--animation-duration-hover) box-shadow;
        }
    </style>

    <script>
        window.addEventListener("fm_init", () => {
            let toggle_dark_mode_button = document.getElementById("toggle_dark_mode_button")
            toggle_dark_mode_button.fm.on_click = window.base_functions.toggle_dark_mode
        })
    </script>
{% endblock %}